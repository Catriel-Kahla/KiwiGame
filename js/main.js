let money=0,ready=!1,customer={inShop:!1,bread:0,apple:0,carrot:0,pumpkinPie:0},sound1=new Audio;sound1.src="sounds/Blackberry-SMS.mp3";let sound2=new Audio;sound2.src="sounds/explosion-bang_1635134169.mp3";let sound3=new Audio;sound3.src="sounds/pacman-come-cereza_1635131044.mp3";let breadAwards=[!1,!1],appleAwards=[!1,!1],carrotAwards=[!1,!1],pumpkinPieAwards=[!1,!1],foods=[{name:"Bread",stock:0,price:10,stockLimit:20,offer:0,increase:0,sold:0},{name:"Apple",stock:0,price:20,stockLimit:20,offer:0,increase:0,sold:0},{name:"Carrot",stock:0,price:18,stockLimit:20,offer:0,increase:0,lock:!0,sold:0},{name:"Pumpkin",stock:0,price:20,stockLimit:10,offer:0,increase:0,lock:!0},{name:"PumpkinPie",stock:0,price:25,stockLimit:15,offer:0,increase:0,lock:!0,sold:0},{name:"Wheat",stock:0,price:0,stockLimit:45,offer:0,increase:0,lock:!0,sold:0}],pumpkinPieLimit=!1;function sell(){readyToSell(),0==ready?(sound2.play(),swal("Prepara mÃ¡s comida!",{icon:"warning"})):(money+=customer.bread*(foods[0].price+foods[0].increase-foods[0].offer),money+=customer.apple*(foods[1].price+foods[1].increase-foods[1].offer),money+=customer.carrot*(foods[2].price+foods[2].increase-foods[2].offer),money+=customer.pumpkinPie*(foods[4].price+foods[4].increase-foods[4].offer),foods[0].stock=foods[0].stock-customer.bread,foods[1].stock=foods[1].stock-customer.apple,foods[2].stock=foods[2].stock-customer.carrot,foods[4].stock=foods[4].stock-customer.pumpkinPie,foods[0].sold=foods[0].sold+customer.bread,foods[1].sold=foods[1].sold+customer.apple,foods[2].sold=foods[2].sold+customer.carrot,foods[4].sold=foods[4].sold+customer.pumpkinPie,document.getElementById("breadStock").innerHTML="x"+foods[0].stock,document.getElementById("appleStock").innerHTML="x"+foods[1].stock,document.getElementById("carrotStock").innerHTML="x"+foods[2].stock,document.getElementById("pumpkinPieStock").innerHTML="x"+foods[4].stock,document.getElementById("cash").innerHTML="$"+money,ask())}function customerIn(){0==customer.inShop?(customer.inShop=!0,document.getElementById("custo").style.animation="inshop 6s"):(customer.inShop=!1,document.getElementById("custo").style.animation="outshop 2s",setTimeout((()=>{customerIn()}),2e3))}function ask(){0!=foods[0].offer?customer.bread=Math.round(15*Math.random()+1):0!=foods[0].increase?customer.bread=Math.round(5*Math.random()+1):customer.bread=Math.round(7*Math.random()+1),0!=foods[1].offer?customer.apple=Math.round(12*Math.random()+1):0!=foods[1].increase?customer.apple=Math.round(4*Math.random()+0):customer.apple=Math.round(6*Math.random()+0),1==foods[2].lock?customer.carrot=0:0!=foods[2].offer?customer.carrot=Math.round(19*Math.random()+1):0!=foods[2].increase?customer.carrot=Math.round(5*Math.random()+0):customer.carrot=Math.round(10*Math.random()+0),1==foods[4].lock?customer.pumpkinPie=0:0!=foods[4].offer?customer.pumpkinPie=Math.round(9*Math.random()+0):0!=foods[4].increase?customer.pumpkinPie=Math.round(1*Math.random()+0):customer.pumpkinPie=Math.round(3*Math.random()+0),document.getElementById("askCustomer").innerHTML=`\n    <label class="pedido">Pedido</label>\n        <div>\n            <div class="div__item">\n                <img src="images/bread.png" alt="bread">\n                <label id="breadAsk">x${customer.bread}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/apple.png" alt="apple">\n                <label id="appleAsk">x${customer.apple}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/carrot.png" alt="carrot">\n                <label id="carrotAsk">x${customer.carrot}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/pumpkin_pie.png" alt="pumpkinPie">\n                <label id="pumpkinPieAsk">x${customer.pumpkinPie}</label>\n            </div>\n        </div>\n    `,customerIn()}function readyToSell(){ready=foods[1].stock>=customer.apple&&foods[0].stock>=customer.bread,ready=foods[2].stock>=customer.carrot&&1==ready,ready=foods[4].stock>=customer.pumpkinPie&&1==ready}function closeLockedItems(){document.getElementById("lockedItemsShop").style.display="none",document.getElementById("shop").style.display="flex"}function openLockedItems(){document.getElementById("lockedItemsShop").style.display="flex",document.getElementById("shop").style.display="none"}function closeUnlockedItems(){document.getElementById("unlockedItems").style.display="none",document.getElementById("itemsMod").style.display="flex"}function openUnlockedItems(){document.getElementById("unlockedItems").style.display="flex",document.getElementById("itemsMod").style.display="none"}function foodNormal(){foods[1].offer=0,foods[1].increase=0,document.getElementById("foodNormal").style.backgroundColor="rgba(145, 255, 163, 0.966)",document.getElementById("breadOf").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("breadIn").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("appleOf").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("appleIn").style.backgroundColor="rgba(127, 255, 212, 0.288)"}function sStorageGet(){sessionStorage.getItem("foods")&&(foods=JSON.parse(sessionStorage.getItem("foods")),money=JSON.parse(sessionStorage.getItem("money")),document.getElementById("breadStock").innerHTML="x"+foods[0].stock,document.getElementById("appleStock").innerHTML="x"+foods[1].stock,document.getElementById("carrotStock").innerHTML="x"+foods[2].stock,document.getElementById("pumpkinPieStock").innerHTML="x"+foods[4].stock,document.getElementById("cash").innerHTML="$"+money),sessionStorage.getItem("customer")?(customer=JSON.parse(sessionStorage.getItem("customer")),document.getElementById("askCustomer").innerHTML=`\n    <label class="pedido">Pedido</label>\n        <div>\n            <div class="div__item">\n                <img src="images/bread.png" alt="bread">\n                <label id="breadAsk">x${customer.bread}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/apple.png" alt="apple">\n                <label id="appleAsk">x${customer.apple}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/carrot.png" alt="carrot">\n                <label id="carrotAsk">x${customer.carrot}</label>\n            </div>\n            <div class="div__item">\n                <img src="images/pumpkin_pie.png" alt="pumpkinPie">\n                <label id="pumpkinPieAsk">x${customer.pumpkinPie}</label>\n            </div>\n        </div>\n    `):ask()}function sStorageSet(){sessionStorage.setItem("foods",JSON.stringify(foods)),sessionStorage.setItem("money",money),sessionStorage.setItem("customer",JSON.stringify(customer))}document.getElementById("vender").addEventListener("click",(()=>{sell()})),sStorageGet(),document.getElementById("foodNormal").addEventListener("click",(()=>{foodNormal(),ask(),sound3.play()})),document.getElementById("breadOf").addEventListener("click",(()=>{1==breadAwards[0]?(foods[0].increase=0,foods[0].offer=2,document.getElementById("breadOf").style.backgroundColor="rgba(145, 255, 163, 0.966)",document.getElementById("foodNormal").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("breadIn").style.backgroundColor="rgba(127, 255, 212, 0.288)",ask(),sound3.play()):swal("Necesitas comprar este elemento.",{icon:"warning"})})),document.getElementById("breadIn").addEventListener("click",(()=>{1==breadAwards[1]?(foods[0].increase=4,foods[0].offer=0,document.getElementById("breadOf").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("foodNormal").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("breadIn").style.backgroundColor="rgba(145, 255, 163, 0.966)",ask(),sound3.play()):swal("Necesitas comprar este elemento.",{icon:"warning"})})),document.getElementById("appleOf").addEventListener("click",(()=>{1==appleAwards[0]?(foods[1].increase=0,foods[1].offer=6,document.getElementById("appleIn").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("foodNormal").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("appleOf").style.backgroundColor="rgba(145, 255, 163, 0.966)",ask(),sound3.play()):swal("Necesitas comprar este elemento.",{icon:"warning"})})),document.getElementById("appleIn").addEventListener("click",(()=>{1==appleAwards[1]?(foods[1].increase=2,foods[1].offer=0,document.getElementById("appleOf").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("foodNormal").style.backgroundColor="rgba(127, 255, 212, 0.288)",document.getElementById("appleIn").style.backgroundColor="rgba(145, 255, 163, 0.966)",ask(),sound3.play()):swal("Necesitas comprar este elemento.",{icon:"warning"})})),document.getElementById("aBreadOf").addEventListener("click",(()=>{money>=500?(money-=500,document.getElementById("aBreadOf").style.display="none",breadAwards[0]=!0,document.getElementById("cash").innerHTML="$"+money,sound1.play()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("aAppleOf").addEventListener("click",(()=>{money>=750?(money-=750,document.getElementById("aAppleOf").style.display="none",appleAwards[0]=!0,document.getElementById("cash").innerHTML="$"+money,sound1.play()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("aBreadIn").addEventListener("click",(()=>{money>=750?(money-=750,document.getElementById("aBreadIn").style.display="none",breadAwards[1]=!0,document.getElementById("cash").innerHTML="$"+money,sound1.play()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("aAppleIn").addEventListener("click",(()=>{money>=1e3?(money-=1e3,document.getElementById("aAppleIn").style.display="none",appleAwards[1]=!0,document.getElementById("cash").innerHTML="$"+money,sound1.play()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("aBreadStockIn").addEventListener("click",(()=>{money>=1e3?(money-=1e3,document.getElementById("aBreadStockIn").style.display="none",foods[0].stockLimit=30,document.getElementById("cash").innerHTML="$"+money,sound1.play(),foodLeft()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("aAppleStockIn").addEventListener("click",(()=>{money>=1e3?(money-=1e3,document.getElementById("aAppleStockIn").style.display="none",foods[1].stockLimit=30,document.getElementById("cash").innerHTML="$"+money,sound1.play(),foodLeft()):(sound2.play(),alert("Dinero insuficiente"))})),document.getElementById("closeBut").addEventListener("click",(()=>{closeLockedItems()})),document.getElementById("shop").addEventListener("click",(()=>{openLockedItems()})),document.getElementById("closeButD").addEventListener("click",(()=>{closeUnlockedItems()})),document.getElementById("itemsMod").addEventListener("click",(()=>{openUnlockedItems()})),document.getElementById("next").addEventListener("click",(()=>{sStorageSet(),location.href="../index.html"}));